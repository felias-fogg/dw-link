<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Installation - dw-link</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Installation";
        var mkdocs_page_input_path = "installation.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../pics/uno-debug2-small.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Quickstart</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart-Arduino-IDE2/">Arduino IDE 2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart-AVR-GDB/">AVR-GDB</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../intro/">Background</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../requirements/">Hardware requirements</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Installation</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#firmware-installation">Firmware installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#setting-up-the-debugging-software">Setting up the debugging software</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#installing-avr-gdb">Installing AVR-GDB</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#installing-board-packages-for-the-arduino-ide-2">Installing board packages for the Arduino IDE 2</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../setup/">Hardware setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugging/">Debugging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../better/">A better hardware debugger</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../problems/">Problems</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../license-link/">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../acknowledgements/">Acknowledgements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../history/">Revision history</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">dw-link</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Usage</li>
      <li class="breadcrumb-item active">Installation</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/felias-fogg/dw-link/edit/master/docs/installation.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="installation-of-firmware-and-software-environment">Installation of firmware and software environment</h1>
<p>There are only a few steps necessary for installing the dw-link firmware on the hardware debugger. Setting up the software environment is also quite simple, if you either opt for CLI debugging with AVR-GDB or the Arduino IDE 2. For other options, I refer to <a href="https://github.com/felias-fogg/PyAvrOCD">PyAvrOCD</a>.</p>
<h2 id="firmware-installation">Firmware installation</h2>
<p>Since the firmware of the hardware debugger comes in the form of an Arduino sketch, you need to download, first of all, the <a href="https://www.arduino.cc/en/software">Arduino IDE</a> or <a href="https://docs.arduino.cc/arduino-cli/">Arduino CLI</a>, if you have not done that already. You can also use <a href="https://platformio.org">PlatformIO</a> as an alternative. </p>
<p>Second, you need to download the dw-link firmware. If you use PlatformIO, note that the repository is already prepared to be opened as a PlatformIO project, i.e., it contains a <code>platformio.ini</code> file. Either download/clone the dw-link repository or download a release.</p>
<p>Third, you have to connect your future hardware debugger, i.e., the ATmega328 board, to your computer, select the right board in the Arduino IDE, and upload the <code>dw-link.ino</code> sketch to the board. Similarly, in PlatformIO, you have to choose the right board and choose the <code>Upload</code> menu entry.</p>
<h2 id="setting-up-the-debugging-software">Setting up the debugging software</h2>
<p>Finally, you need to install the debugging software on the host. </p>
<h3 id="installing-avr-gdb">Installing AVR-GDB</h3>
<p>If you want to perform debugging using a command-line interface, you only need to install avr-gdb, which is most probably already installed on your host anyway. On Linux, the package manager of your choice will solve the problem. Note that the corresponding package is named <em>gdb-avr</em>! On macOS, use <a href="https://brew.sh">Homebrew</a>. After having installed Homebrew, type:</p>
<pre><code class="language-bash">xcode-select --install
brew tap osx-cross/avr
brew install avr-gdb
</code></pre>
<p>Under Windows, you can download a version from Zak's <a href="https://github.com/ZakKemble/avr-gcc-build">avr-gcc-build</a> repository.</p>
<h3 id="installing-board-packages-for-the-arduino-ide-2">Installing board packages for the Arduino IDE 2</h3>
<p>Open the <code>Preferences</code> dialog of the Arduino IDE and paste the following three URLs into the list of <code>Additional boards manager URLs</code>:</p>
<pre><code>https://felias-fogg.github.io/package_debugging_index.json
https://MCUdude.github.io/MicroCore/package_MCUdude_MicroCore_index.json
https://MCUdude.github.io/MiniCore/package_MCUdude_MiniCore_index.json
</code></pre>
<p>The first package index will make the following board packages known to the IDE:</p>
<ul>
<li><em><a href="https://github.com/felias-fogg/ArduinoCore-avr-debug-enabled">Arduino AVR Boards (Debug enabled)</a></em>, which is a fork of the official Arduino AVR board package, extended by a means to allow for debugging all the boards in this package. However, with dw-link, you can only debug the debugWIRE MCUs.</li>
<li>
<p><em><a href="https://github.com/felias-fogg/avr-xminis-debug-enabled">Atmel AVR Xplained-minis (Debug enabled)</a></em>, which is a new core only for the three Atmega328/168 Xplained mini boards. It is based on MiniCore (see below), but is heavily tailored towards these development boards. Since these boards have a hardware debugger on board, dw-link is not needed here. </p>
</li>
<li>
<p><em><a href="https://github.com/felias-fogg/ATTinyCore-debug-enabled">ATTinyCore (Debug enabled)</a></em>, which is a fork of ATTinyCore-2.0.0 extended to allow for debugging.</p>
</li>
</ul>
<p>The remaining two package indices make the <a href="https://github.com/MCUdude/MicroCore"><em>MicroCore</em></a> (ATtin13(a)) and <a href="https://github.com/MCUdude/MiniCore"><em>MiniCore</em></a> (ATmegaX8) known to the IDE. These cores are already debug-enabled.</p>
<p>Then, you need to start the  <code>Boards Manager</code>, which you find under <code>Tools</code>--&gt;<code>Board</code>. Install any of the above cores you want. Note that the packages include tools that might be incompatible with older OS versions. If you encounter problems when starting the debugging software, consult the troubleshooting section on <a href="../troubleshooting/#startup-problems">startup problems</a>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../requirements/" class="btn btn-neutral float-left" title="Hardware requirements"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../setup/" class="btn btn-neutral float-right" title="Hardware setup">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/felias-fogg/dw-link" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../requirements/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../setup/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
